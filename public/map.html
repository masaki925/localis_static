<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title></title>
    <script src="http://maps.google.com/maps/api/js?sensor=true" type="text/javascript"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.0/jquery-ui.min.js"></script>

    <script src="https://cdn.jsdelivr.net/jquery.ui.map/3.0rc/min/jquery.ui.map.full.min.js"></script>
    <script src="https://cdn.jsdelivr.net/jquery.ui.map/3.0rc/jquery.ui.map.overlays.js"></script>
    <script src="https://cdn.jsdelivr.net/jquery.ui.map/3.0rc/jquery.ui.map.services.js"></script>
    <script src="https://cdn.jsdelivr.net/jquery.ui.map/3.0rc/jquery.ui.map.extensions.js"></script>

    <script src="http://cdn.aldu.net/google.maps.markerwithlabel/1.1.5/markerwithlabel.min.js"></script>

    <script type="text/javascript">
      $(function() {
          // Also works with: var yourStartLatLng = '59.3426606750, 18.0736160278';
          var yourStartLatLng = new google.maps.LatLng(59.3426606750, 18.0736160278);
          $('#map_canvas').gmap({'center': yourStartLatLng});

        ( function($) {
                $.extend($.ui.gmap.prototype, {

                        // We override the addMarker method
                        addMarker: function(markerOptions, callback) {
                                var marker = new MarkerWithLabel( jQuery.extend({'map': this.get('map'), 'bounds': false}, markerOptions) );
                                var markers = this.get('markers');
                                if ( marker.id ) {
                                        markers[marker.id] = marker;
                                } else {
                                        markers.push(marker);
                                }
                                if ( marker.bounds ) {
                                        this.addBounds(marker.getPosition());
                                }
                                this._call(callback, this.get('map'), marker);
                                return $(marker);
                        }

                });
        } (jQuery) );

      });

     function hoge() {
       var yourStartLatLng = new google.maps.LatLng(59.3426606750, 18.0736160278);
       $('#map_canvas').gmap('addMarker', { 'position': yourStartLatLng, 'marker': MarkerWithLabel }, function() {});
     }
      //$('#map_canvas').gmap('theBeatles');
    </script>
  </head>
  <body>
    <div id="map_canvas" style="width:250px;height:250px"></div>
    <button onclick="hoge();">a</button>
  </body>
</html>
